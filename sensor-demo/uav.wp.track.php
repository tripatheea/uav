<?php
 //  session_start();
    
	// $x = mt_rand(0, 365.22257702209595) / 100;
	// $y = mt_rand(0, 488.9600753195714) / 100;
	// $z = mt_rand(0, 50)/10;
    
    
 //  $allX = Array(-3.9990234375, -3.01025390625, -1.724853515625, -0.3955078125, -0.626220703125, -2.04345703125, -3.076171875, -4.1748046875, -4.097900390625, -3.218994140625, -1.91162109375, -0.823974609375, -0.582275390625, -1.944580078125, -2.9443359375, -4.7021484375 );
 //  $allY = Array(-0.3515602939922709, -0.4724067568442764, -0.2746571512146894,  -0.5602938041720732, -1.3292264529974207, -1.263325357489324, -1.4280747713669428, -1.1864386394452024, -2.1088986592431254, -2.3943223575350774,  -2.416275654706373, -2.317483068758292, -2.997898741103044, -2.9759559359447554, -3.1405161039832357, -3.5024553022772564);
    
 //    if( ! isset($_SESSION['count'])) {
 //        $_SESSION['count'] = 0;
 //    }
    
 //    if($_SESSION['count'] >= count($allX)) {
 //        $_SESSION['count'] = 0;
 //    }
    
    
 //    $count = $_SESSION['count'];
    
	// $data = Array();
	// $data['transform'] = Array();
	// $data['transform']['translation'] = Array();
	// $data['transform']['translation']['x'] = -$allY[$count];
	// $data['transform']['translation']['y'] = -$allX[$_SESSION['count']];
	// $data['transform']['translation']['z'] = 0.1;
	
    
 //  $_SESSION['count'] = $count + 1;
    
    
	// echo json_encode($data);

session_start();
$prerecordedFlight = Array(
                                '0' => Array('x' => -1.1653649838677018, 'y' => -5.077392578125, 'z' => 0.0907 ), 
                                '1' => Array('x' => -0.7808996810623338, 'y' => -3.539306640625, 'z' => 0.9938 ),
                                '2' => Array('x' => -2.1756644891908707, 'y' => -3.539306640625, 'z' => 0.5755 ), 
                                '3' => Array('x' => -3.547210349166299, 'y' => -3.484375, 'z' => 0.8399 ),
                                '4' => Array('x' => -4.949560966412393, 'y' => -3.50634765625, 'z' => 0.9041 ), 
                                '5' => Array('x' => -4.927669883744718, 'y' => -2.023193359375, 'z' => 0.1051 ),
                                '6' => Array('x' => -3.503348192548534, 'y' => -2.0341796875, 'z' => 0.2332 ),
                                '7' => Array('x' => -2.109792614667179, 'y' => -2.220947265625, 'z' => 0.1790 ), 
                                '8' => Array('x' => -0.7479436304526154, 'y' => -2.01220703125, 'z' => 0.8323 ), 
                                '9' => Array('x' => -0.9017362398905779, 'y' => -0.69384765625, 'z' => 0.0546 ), 
                                '10' => Array('x' => -2.0658764762656237, 'y' => -0.60595703125, 'z' => 0.3062 ), 
                                '11' => Array('x' => -3.6020351149638317, 'y' => -0.638916015625, 'z' => 0.6158 ), 
                                '12' => Array('x' => -5.299717627938999, 'y' => -0.69384765625, 'z' => 0.8584 ), 
                                '13' => Array('x' => -4.960506236328673, 'y' => 0.789306640625, 'z' => 0.6864 ), 
                                '14' => Array('x' => -3.6129996734597247, 'y' => 0.833251953125, 'z' => 0.7362 ), 
                                '15' => Array('x' => -2.31837689839268, 'y' => 0.822265625, 'z' => 0.1634 ), 
                                '16' => Array('x' => -0.8577961088677507, 'y' => 0.767333984375, 'z' => 0.4087 ),
                                '17' => Array('x' => 0.3067211609234641, 'y' => 0.66845703125, 'z' => 0.9001 ), 
                                '18' => Array('x' => 0.2847487975007066, 'y' => -0.529052734375, 'z' => 0.6542 ), 
                                '19' => Array('x' => 0.2737625998835265, 'y' => -2.27587890625, 'z' => 0.2660 ), 
                                '20' => Array('x' => 0.37263796761778134, 'y' => -3.41845703125, 'z' => 0.6398 ), 
                                '21' => Array('x' => 0.3286934792380557, 'y' => -5.011474609375, 'z' => 0.1583 ), 
                                '22' => Array('x' => -1.1653649838677018, 'y' => -5.077392578125, 'z' => 0.0907 )
                            );

if( ! isset($_SESSION['count'])) {
    $_SESSION['count'] = 0;
}

if($_SESSION['count'] >= count($prerecordedFlight)) {
    $_SESSION['count'] = 0;
}


$count = $_SESSION['count'];
  
$data = Array();
$data['transform'] = Array();
$data['transform']['translation'] = Array();
$data['transform']['translation']['x'] = - ( $prerecordedFlight[$_SESSION['count']]['x'] - 0.005 );
$data['transform']['translation']['y'] = - ( $prerecordedFlight[$_SESSION['count']]['y'] - 1.41 );
$data['transform']['translation']['z'] = - $prerecordedFlight[$_SESSION['count']]['z'];
$data['transform']['count'] = $count;
  
$_SESSION['count'] = $count + 1;
  
  
echo json_encode($data);



?>
